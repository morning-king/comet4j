<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Language" content="zh-cn" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题 1</title>
<style type="text/css">
.style1 {
	color: #00FFFF;
}
</style>
</head>

<body style="color: #FFFFFF; background-color: #000000">

<table style="width: 100%; height: 100%; line-height:30px;" cellspacing="0" cellpadding="0">
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
</table>

<div style="position: absolute; width: 100%; height: 50px; line-height:50px; z-index: 1; left: 0px; bottom:70px; border-top:1px aqua solid;border-bottom:1px aqua solid" id="layer1" class="style1">
Users：CPU：Memory：CacheCount：</div>

</body>

</html>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>让文本框显示行号，兼容ie、火狐</title>
<style type="text/css">
#main {color:#666}
textarea{border:1px solid #7f9db9; font-size:9pt; width:430px; color:#000}
.grey{color:#999}
#msg1,#msg2,#msg3,#msg4{ display:none}
#ol{position:absolute; z-index:1; padding:0px; margin:0px; border:0px; background:#ecf0f5;width:23px; text-align:left;  }
#li{background:#ecf0f5; height:160px; overflow:hidden; width:32px; border-right:0; line-height:20px; margin:0px; padding:0px;text-align:center}
#c2{font-family:Arial, Helvetica, sans-serif; height:160px;  margin:0px;  width:416px; padding:0 0 0 35px; overflow-x: hidden; line-height:20px;}
</style>
<script language="javascript" type="text/javascript">
String.prototype.trim2 = function()
{
    return this.replace(/(^\s*)|(\s*$)/g, "");
}
function F(objid){
	return document.getElementById(objid).value;
}
function G(objid){
	return document.getElementById(objid);
}

</script>
</head>
<body onLoad="keyUp();">
<div>
<table width="100%" border="0" cellspacing="0" cellpadding="0" style="position:relative">
  <tr>
    <td width="55%">
    <div id="ol"><textarea cols="2" rows="10" id="li" disabled></textarea></div>
    <textarea name="co" cols="60" rows="10" wrap="off" id="c2"  onblur="check('2')" onkeyup="keyUp()" onFocus="clearValue('2')" onscroll="G('li').scrollTop = this.scrollTop;" oncontextmenu="return false"  class="grey">请在这里粘入多段字看一看。
</textarea>    
    </td>
    </tr>
</table>
</div>
<em class="block" id="msg2">文本框没有内容。</em>
<script language="javascript" type="text/javascript">
var msgA=["msg1","msg2","msg3","msg4"];
var c=["c1","c2","c3","c4"];
var slen=[50,20000,20000,60];//允许最大字数
var num="";
var isfirst=[0,0,0,0,0,0];
function isEmpty(strVal){
	if( strVal == "" )
		return true;
	else
		return false;
}
function isBlank(testVal){		
    var regVal=/^\s*$/;
    return (regVal.test(testVal))
}
function chLen(strVal){
	strVal=strVal.trim2();
	var cArr = strVal.match(/[^\x00-\xff]/ig);
    return strVal.length + (cArr == null ? 0 : cArr.length);   	
}
function check(i){
	var iValue=F("c"+i);
	var iObj=G("msg"+i);
	var n=(chLen(iValue)>slen[i-1]);
	if((isBlank(iValue)==true)||(isEmpty(iValue)==true)||n==true){		
		iObj.style.display ="block";
	}else{		
		iObj.style.display ="none";
	}
}
function checkAll(){
	for(var i=0;i<msgA.length; i++){
		check(i+1);		
		if(G(msgA[i]).style.display=="none"){
			continue;
		}else{
			alert("填写错误,请查看提示信息！");
			return;
		}
	}
	G("form1").submit();	
}
function clearValue(i){
	G(c[i-1]).style.color="#000";
	keyUp();	
	if(isfirst[i]==0){
		G(c[i-1]).value="";
	}
	isfirst[i]=1;
}
function keyUp(){
	var obj=G("c2");
	var str=obj.value;	
	str=str.replace(/\r/gi,"");
	str=str.split("\n");
	n=str.length;
	line(n);
}
function line(n){
	var lineobj=G("li");
	for(var i=1;i<=n;i++){
		if(document.all){
			num+=i+"\r\n";
		}else{
			num+=i+"\n";
		}
	}
	lineobj.value=num;
	num="";
}
function autoScroll(){
	var nV = 0;
	if(!document.all){
		nV=G("c2").scrollTop;
		G("li").scrollTop=nV;
		setTimeout("autoScroll()",20);
	}	
}
if(!document.all){
window.addEventListener("load",autoScroll,false);
}
</script>
</body>
</html>


<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">  
<html>  
<head>  
<title></title>  
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">  
<meta name="description" content="Script to count and limit the number of lines and characters in a textarea">  
<meta name="keywords" content="textarea, rows, lines, characters, limit, restrict, js, javascript, jscript">  
<script type="text/javascript">  
<!--  
function getLines(txtArea)   
{  
  var lineHeight = parseInt(txtArea.style.lineHeight.replace(/px/i,''));    
  var tr = txtArea.createTextRange();   
  return Math.ceil(tr.boundingHeight/lineHeight);  
}  
function checkLimits(txtArea)  
{  
  var maxLines = txtArea.rows;  
  var maxChars = txtArea.rows * txtArea.cols;   
  if((txtArea.value.length >= maxChars || getLines(txtArea) >= maxLines)   
    && (window.event.keyCode == 10 || window.event.keyCode == 13))  
  {  
    while(getLines(txtArea) > maxLines)  
      txtAreatxtArea.value = txtArea.value.substr(0,txtArea.value.length-2);  
    while(txtArea.value.length > maxChars)  
      txtAreatxtArea.value = txtArea.value.substr(0,txtArea.value.length-2);  
      //alert("limits reached");   
  }  
  else if(txtArea.value.length > maxChars )  
  {  
    while(txtArea.value.length > maxChars)  
      txtAreatxtArea.value = txtArea.value.substr(0,txtArea.value.length-1);  
      //alert("chars limit reached");   
  }  
  else if (getLines(txtArea) > maxLines)  
  {  
    while(getLines(txtArea) > maxLines)  
      txtAreatxtArea.value = txtArea.value.substr(0,txtArea.value.length-1);  
      //alert("lines limit reached");  
  }  
}  
//-->  
</script>  
</head>  
<body style="font-family:arial;">  
<form name="myForm" method="post" action="">  
<span style="textalign:left;">  
<b>Limited Textarea</b> (cols = 44; rows = 4)  
<br>  
<br>  
<textarea name="myText" id="myText" cols="44" rows="4" wrap="virtual"   
          style="font-family:arial; font-size:14px; line-height:17px; height:98px; overflow:auto;"  
          onKeyUp="checkLimits(this);"  
          onPaste="checkLimits(this);"  
          onCut="checkLimits(this);"  
          onBlur="checkLimits(this);"></textarea>  
  
<br>  
</span>  
</form>  
<textarea name="t" rows="10" cols="50" onKeyDown="if(event.keyCode==13){var s=value.match(/\n/g);if(s)if(s.length==9){alert('10行了');return false;}}"></textarea>
</body>  
</html>  
